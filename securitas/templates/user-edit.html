{% extends "with_navbar.html" %}

{% block title %}Edit User: {{ user.username }}{% endblock %}

{% block head %}
  {{ super() }}
  {{ css("user") }}
{% endblock %}

{% import '_form_macros.html' as macros %}
{% block content %}
  {{ super() }}
  <div class="container section">

    <div class="row">
      <div class="col s12">
        <h3 class="header light-blue-text text-darken-4 fw300">
          Edit user: {{ user.username }}
        </h3>

        <form action="{{ url_for('user_edit', username=user.username) }}" method="post">
          {{ form.csrf_token }}

          <div class="card">
            <div class="card-content">

              <div class="row">
                <div class="input-field col s6">
                  {{ macros.with_errors(form.firstname, class="validate") }}
                </div>

                <div class="input-field col s6">
                  {{ macros.with_errors(form.lastname, class="validate") }}
                </div>
              </div>

              <div class="row">
                <div class="input-field col s6">
                  {{ macros.with_errors(form.mail, class="validate") }}
                </div>

                <div class="input-field col s6">
                  {{ macros.with_errors(form.locale) }}
                </div>
              </div>

              <div class="row">
                <div class="input-field col s6">
                  {{ macros.with_errors(form.ircnick) }}
                </div>

                <div class="input-field col s6">
                  {{ macros.with_errors(form.timezone) }}
                </div>
              </div>

              <div class="row">
                <div class="input-field col s6">
                  {{ macros.with_errors(form.github) }}
                </div>

                <div class="input-field col s6">
                  {{ macros.with_errors(form.gitlab) }}
                </div>
              </div>

              <div class="row">
                <div class="input-field col s6">
                  {{ macros.with_errors(form.rhbz_mail) }}
                </div>
              </div>

              <!-- Keep this one last for rendering purposes. -->
              {# TODO: We need to have a way to add more keys #}
              <div class="row">
                <div class="input-field col s6">
                  {{ macros.with_errors(form.gpgkeys) }}
                </div>
              </div>

              <div class="row">
                <div class="input-field col s12">
                  <button class="btn waves-effect waves-light light-blue darken-4 w100" id="submit" type="submit" tabindex="9">Submit</button>
                  {{ macros.non_field_errors(form) }}
                </div>
              </div>

            </div>
          </div>
      </div>
    </div>
  </div>
{% endblock %}
